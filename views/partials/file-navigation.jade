#content-left
  #path(path)
  //-include ../includes/path
  
  #action-bar
    button#new-file.btn.btn-primary.btn-sm(data-toggle="modal" data-target="#new-file-modal") New file 

  br

  table#file-list.table.table-hover.table-condensed
    thead
      tr
        th.star
        th.file-type Type
        th.name Name
        th.study-mode Study mode
        th.owner Owner
        th.size Size
        th.percentage %
    //-tbody(ng-right-click="showContextMenu($event)")
    tbody
      tr.file-row(ng-repeat="file in folder.files" ng-cloak data-index="{{$index}}")
        td.star 
          span.star.starred.glyphicon.glyphicon-star(ng-if="file.starred")
          span.star.glyphicon.glyphicon-star-empty(ng-if="!file.starred")
        td.file-type
          span.glyphicon.glyphicon-folder-open(ng-if="file.type == 'folder'")
          span.glyphicon.glyphicon-file(ng-if="file.type == 'deck'")
          //-span.glyphicon.glyphicon-file
        td.filename
          a(href="{{file.path}}")
            {{file.name}}
        td.study-mode
          .btn-group
            a#dropdownMenu(href="#" class="dropdown-toggle" data-toggle="dropdown")
              | Action
              span.caret
            ul.dropdown-menu(role="menu")
              li(role="presentation")
                a(role="menuitem" href="#") Classic
              li(role="presentation")
                a(role="menuitem" href="#") Random
              li(role="presentation")
                a(role="menuitem" href="#") Hardest to easiest
        td.owner
          {{file.owner_id}}
        td.size
          {{file.size}}
        td.percentage
          {{file.percentage}}%
        td.file-id
          {{file.id}}
        td.delete(ng-click="removeFile($index)") Delete
      
      //-include ../includes/mixins/file-row
      //-each val in files
        //-+file-row(val)
#content-right
  #file-details

//-#contextMenu.dropdown.clearfix
  //-ul.dropdown-menu(role="menu" aria-labelledby="dropdownMenu" style="display:{{contextMenu.display}};position:static;margin-bottom:5px;left:{{contextMenu.left}};top:{{contextMenu.top}};")
    //-li
      //-a#mi-study(tabindex="-1" href="#") Study
    //-li
      //-a#mi-edit(tabindex="-1" href="#") Edit  
    //-li
      //-a#mi-rename(tabindex="-1" href="#") Rename
    //-li
      //-a#mi-move(tabindex="-1" href="#" data-toggle="modal" data-target="#move-file-modal") Move 
    //-li
      //-a#mi-copy(tabindex="-1" href="#" data-toggle="modal" data-target="#copy-file-modal") Copy
    //-li
      //-a#mi-delete(tabindex="-1" href="#") Delete

//- Modal
.modal.fade(id="new-file-modal" role="dialog" aria-labelledby="Create a new file" aria-hidden="true")
  .modal-dialog
    .modal-content
      .modal-header
        button(type="button" class="close" data-dismiss="modal" aria-hidden="true") &times;
        h4.modal-title#id="Create a new file"
      .modal-body
        form(role="form")
          .form-group
            label(for="filename-input") Filename
            input#filename-input.form-control(type="text" placeholder="Enter filename" ng-model="newFile.name" autofocus)
            label(for="folder") Folder
              input.form-control(type="radio" name="type" id="folder" ng-model="newFile.type" value="folder")
            label(for="deck") Deck 
              input.form-control(type="radio" name="type" id="deck" ng-model="newFile.type" value="deck")

      .modal-footer
        button(type="button" class="btn btn-default" data-dismiss="modal") Close
        button.create-file(type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addFile()") Create 

